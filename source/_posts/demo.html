<html>
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <style>
      body {
        margin: 0;
        padding: 0;
      }

      #login,
      #index {
        width: 100%;
        height: 100%;
        display: none;
      }

      #login {
        background: #f5f5f5;
        display: block;
      }

      #index {
        background: #aaddff;
      }
    </style>
  </head>
  <body>
    <!--登录页-->
    <div id="login" class="component">
      <input type="button" onclick="historyPush('index')" value="登陆" />
    </div>

    <!--首页-->
    <div id="index" class="component">
      <input
        type="button"
        onclick="historyPush('login',{data:'params data'})"
        value="退出登陆"
      />
    </div>
  </body>
  <script>
    // 全局变量
    var params = {};

    // 页面跳转
    function historyPush(url, param) {
      history.pushState(param, "我是页面标题", url);
      if (param) {
        params[url] = param;
      }
    }

    // 监听前进后退
    window.addEventListener("popstate", function(e) {
      // e.state 就是pushState 的时候，传的第一个参数
      let url = e.state.target.location.pathName;
      console.log("接收到传递的参数", e.state);
      console.log("直接用params传递的参数", params[path]);
      setVisible(path);
    });

    // 显示跟路由地址对应的内容，隐藏其他内容
    function setVisible(url) {
      let components = Array.from(document.body.querySelectorAll(".component"));
      components.map(item => {
        if (item.id === url) {
          // console.log('显示',item.id)
          item.style.display = "block";
        } else {
          // console.log('隐藏',item.id)
          item.style.display = "none";
        }
      });
    }
  </script>
</html>
